<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<style>
		body {
			font-family: sans-serif;
      color: white;
		}

    #background {
      position: absolute;
      top: 0px;
      left: 0px;
    }

    #scoreboard {
      position: absolute;
      top: 640px;
      color: white;
    }

    #scoreboard > div > div {
      display: inline-block;
    }

    #top {
      position: relative;
      font-family: Verdana, sans-serif;
      font-weight: bold;
      font-size: 16px;
    }

    #top > div {
      width: 60px;
    }

    #round {
      position: relative;
      left: 5px;
      text-align: left;
    }

    #series {
      position: relative;
      left: 170px;
      text-align: right;
    }

    #mid {
      position: relative;
      top: 10px;
    }

    #mid > div {
      width: 148px;
      font-size: 16px;
    }

    #player1_name {
      position: relative;
      left: 6px;
      text-align: left;
    }

    #player2_name {
      position: relative;
      text-align: right;
    }

    #bottom {
      position: relative;
      top: 15px;
    }

    #map {
      position: relative;
      top: -20px;
      font-family: Verdana, sans-serif;
      width: 175px;
      font-weight: bold;
      text-align: center;
    }

    .scorearea {
      font-weight: bold;
      font-family: Verdana, sans-serif;
      text-align: center;
      width: 60px;
    }

    .spawn {
      font-size: 16px;
    }

    .score {
      position: relative;
      margin-top: 8px;
      font-weight: bold;
      font-family: Arial Black, sans-serif;
    }

    .inline {
      display: inline-block;
    }

		.monospace {
			font-family: monospace;
		}
	</style>
</head>
<body>

  <img src="./blank.png" id="background" />

  <div id="scoreboard">
    <div id="top">
      <div id="round"></div>
      <div id="series"></div>
    </div>

  <div id="mid">
    <div id="player1_name"></div>
    <div id="player2_name"></div>
  </div>

  <div id="bottom">

    <div class="scorearea" id="bottom-left">
      <div id="player1_spawn" class="spawn"></div>
      <div id="player1_score" class="score"></div>
    </div>

    <div id="map"></div>

    <div class="scorearea" id="bottom-right">
      <div id="player2_spawn" class="spawn"></div>
      <div id="player2_score" class="score"></div>
    </div>
  </div>

</div>

	<script>
    document.addEventListener("DOMContentLoaded", function(){

      let matchInfo = nodecg.Replicant("matchInfo"),
          player1_name = document.getElementById('player1_name'),
          player1_spawn = document.getElementById('player1_spawn'),
          player1_score = document.getElementById('player1_score'),

          player2_name = document.getElementById('player2_name'),
          player2_spawn = document.getElementById('player2_spawn'),
          player2_score = document.getElementById('player2_score'),

          round = document.getElementById('round'),
          map = document.getElementById('map'),
          series = document.getElementById('series')


          matchInfo.on('change', function(newVal, oldVal){
            if (!newVal) {
              return;
            }

            console.log(newVal.round)

            document.getElementById('player1_name').innerHTML = newVal.player1.name;
            document.getElementById('player1_spawn').innerHTML = newVal.player1.spawn;
            document.getElementById('player1_score').innerHTML = newVal.player1.score;
            document.getElementById('player1_spawn').style.color = newVal.player1.color;

            document.getElementById('player2_name').innerHTML = newVal.player2.name;
            document.getElementById('player2_spawn').innerHTML = newVal.player2.spawn;
            document.getElementById('player2_score').innerHTML = newVal.player2.score;
            document.getElementById('player2_spawn').style.color = newVal.player2.color;

            document.getElementById('round').innerHTML = newVal.round;
            document.getElementById('map').innerHTML = newVal.map;
            document.getElementById('series').innerHTML = newVal.series;
          })

    })
	</script>
</body>
</html>
